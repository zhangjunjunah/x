{"version":3,"sources":["docs/react/use-with-next.zh-CN.md?type=text"],"sourcesContent":["\n  import '/home/runner/work/x/x/docs/react/use-with-next.zh-CN.md?watch=parent';\n  export const texts = [{\"value\":\"Next.js\",\"paraId\":0},{\"value\":\" 是目前世界上最流行的 React 服务端同构框架，本文会尝试在 Next.js 创建的工程中使用 \",\"paraId\":0},{\"value\":\"@ant-design/x\",\"paraId\":0},{\"value\":\" 组件。\",\"paraId\":0},{\"value\":\"在开始之前，你可能需要安装 \",\"paraId\":1,\"tocIndex\":0},{\"value\":\"yarn\",\"paraId\":1,\"tocIndex\":0},{\"value\":\" 或者 \",\"paraId\":1,\"tocIndex\":0},{\"value\":\"pnpm\",\"paraId\":1,\"tocIndex\":0},{\"value\":\" 或者 \",\"paraId\":1,\"tocIndex\":0},{\"value\":\"bun\",\"paraId\":1,\"tocIndex\":0},{\"value\":\"。\",\"paraId\":1,\"tocIndex\":0},{\"value\":\"工具会自动初始化一个脚手架并安装项目的各种必要依赖，在安装过程中，有一些配置项需要自行选择，如果在过程中出现网络问题，请尝试配置代理，或使用其他 npm registry，例如，你可以切换到淘宝镜像源：\",\"paraId\":2},{\"value\":\"npm config set registry https://registry.npmmirror.com\",\"paraId\":2},{\"value\":\"。\",\"paraId\":2},{\"value\":\"初始化完成后，我们进入项目并启动。\",\"paraId\":3},{\"value\":\"$ cd antdx-demo\\n$ npm run dev\\n\",\"paraId\":4},{\"value\":\"此时使用浏览器访问 \",\"paraId\":5},{\"value\":\"http://localhost:3000/\",\"paraId\":5},{\"value\":\" ，看到 NEXT 的 logo 就算成功了。\",\"paraId\":5},{\"value\":\"现在从 yarn 或 npm 或 pnpm 或 bun 安装并引入 @ant-design/x。\",\"paraId\":6,\"tocIndex\":1},{\"value\":\"修改 \",\"paraId\":7},{\"value\":\"src/app/page.tsx\",\"paraId\":7},{\"value\":\"，引入 @ant-design/x 的气泡组件。\",\"paraId\":7},{\"value\":\"import React from 'react';\\nimport { Bubble } from '@ant-design/x';\\n\\nconst Home = () => (\\n  <div className=\\\"App\\\">\\n    <Bubble content=\\\"Hello world!\\\" />\\n  </div>\\n);\\n\\nexport default Home;\\n\",\"paraId\":8},{\"value\":\"好了，现在你应该能看到页面上已经有了 \",\"paraId\":9},{\"value\":\"@ant-design/x\",\"paraId\":9},{\"value\":\" 的气泡组件，接下来就可以继续选用其他组件开发应用了。其他开发流程你可以参考 Next.js 的\",\"paraId\":9},{\"value\":\"官方文档\",\"paraId\":9},{\"value\":\"。\",\"paraId\":9},{\"value\":\"细心的朋友可以发现这时引入的 @ant-design/x 组件在首屏并没有样式，下面就需要根据 Next.js 的模式来选择不同的 SSR 样式处理方式。\",\"paraId\":10},{\"value\":\"Updated\",\"paraId\":11},{\"value\":\"如果你在 Next.js 当中使用了 App Router, 并使用 @ant-design/x 作为页面组件库，为了让 @ant-design/x 组件库在你的 Next.js 应用中能够更好的工作，提供更好的用户体验，你可以尝试使用下面的方式将 @ant-design/x 首屏样式按需抽离并植入到 HTML 中，以避免页面闪动的情况。\",\"paraId\":12,\"tocIndex\":2},{\"value\":\"安装 \",\"paraId\":13,\"tocIndex\":2},{\"value\":\"@ant-design/nextjs-registry\",\"paraId\":13,\"tocIndex\":2},{\"value\":\"在 \",\"paraId\":14},{\"value\":\"app/layout.tsx\",\"paraId\":14},{\"value\":\" 中使用\",\"paraId\":14},{\"value\":\"import React from 'react';\\nimport { AntdRegistry } from '@ant-design/nextjs-registry';\\n\\nconst RootLayout = ({ children }: React.PropsWithChildren) => (\\n  <html lang=\\\"en\\\">\\n    <body>\\n      <AntdRegistry>{children}</AntdRegistry>\\n    </body>\\n  </html>\\n);\\n\\nexport default RootLayout;\\n\",\"paraId\":15},{\"value\":\"注意: Next.js App Router 当前不支持直接使用 \",\"paraId\":16},{\"value\":\".\",\"paraId\":16},{\"value\":\" 引入的子组件，如 \",\"paraId\":16},{\"value\":\"<Select.Option />\",\"paraId\":16},{\"value\":\"、\",\"paraId\":16},{\"value\":\"<Typography.Text />\",\"paraId\":16},{\"value\":\" 等，需要从路径引入这些子组件来避免错误。\",\"paraId\":16},{\"value\":\"更多详细的细节可以参考 \",\"paraId\":17},{\"value\":\"with-nextjs-app-router-inline-style\",\"paraId\":17},{\"value\":\"。\",\"paraId\":17},{\"value\":\"如果你在 Next.js 当中使用了 Pages Router, 并使用 @ant-design/x 作为页面组件库，为了让 @ant-design/x 组件库在你的 Next.js 应用中能够更好的工作，提供更好的用户体验，你可以尝试使用下面的方式将 @ant-design/x 首屏样式按需抽离并植入到 HTML 中，以避免页面闪动的情况。\",\"paraId\":18,\"tocIndex\":3},{\"value\":\"安装 \",\"paraId\":19,\"tocIndex\":3},{\"value\":\"@ant-design/cssinjs\",\"paraId\":19,\"tocIndex\":3},{\"value\":\"开发者注意事项：\",\"paraId\":20,\"tocIndex\":3},{\"value\":\"请注意，安装 \",\"paraId\":21,\"tocIndex\":3},{\"value\":\"@ant-design/cssinjs\",\"paraId\":21,\"tocIndex\":3},{\"value\":\" 时必须确保版本号跟 \",\"paraId\":21,\"tocIndex\":3},{\"value\":\"@ant-design/x\",\"paraId\":21,\"tocIndex\":3},{\"value\":\" 本地的 \",\"paraId\":21,\"tocIndex\":3},{\"value\":\"node_modules\",\"paraId\":21,\"tocIndex\":3},{\"value\":\" 中的 \",\"paraId\":21,\"tocIndex\":3},{\"value\":\"@ant-design/cssinjs\",\"paraId\":21,\"tocIndex\":3},{\"value\":\" 版本保持一致，否则会出现多个 React 实例，导致无法正确的读取 ctx。（Tips: 你可以通过 \",\"paraId\":21,\"tocIndex\":3},{\"value\":\"npm ls @ant-design/cssinjs\",\"paraId\":21,\"tocIndex\":3},{\"value\":\" 命令查看本地版本）\",\"paraId\":21,\"tocIndex\":3},{\"value\":\"改写 \",\"paraId\":22},{\"value\":\"pages/_document.tsx\",\"paraId\":22},{\"value\":\"import React from 'react';\\nimport { createCache, extractStyle, StyleProvider } from '@ant-design/cssinjs';\\nimport Document, { Head, Html, Main, NextScript } from 'next/document';\\nimport type { DocumentContext } from 'next/document';\\n\\nconst MyDocument = () => (\\n  <Html lang=\\\"en\\\">\\n    <Head />\\n    <body>\\n      <Main />\\n      <NextScript />\\n    </body>\\n  </Html>\\n);\\n\\nMyDocument.getInitialProps = async (ctx: DocumentContext) => {\\n  const cache = createCache();\\n  const originalRenderPage = ctx.renderPage;\\n  ctx.renderPage = () =>\\n    originalRenderPage({\\n      enhanceApp: (App) => (props) => (\\n        <StyleProvider cache={cache}>\\n          <App {...props} />\\n        </StyleProvider>\\n      ),\\n    });\\n\\n  const initialProps = await Document.getInitialProps(ctx);\\n  const style = extractStyle(cache, true);\\n  return {\\n    ...initialProps,\\n    styles: (\\n      <>\\n        {initialProps.styles}\\n        <style dangerouslySetInnerHTML={{ __html: style }} />\\n      </>\\n    ),\\n  };\\n};\\n\\nexport default MyDocument;\\n\",\"paraId\":23},{\"value\":\"支持自定义主题\",\"paraId\":24},{\"value\":\"// theme/themeConfig.ts\\nimport type { ThemeConfig } from 'antd';\\n\\nconst theme: ThemeConfig = {\\n  token: {\\n    fontSize: 16,\\n    colorPrimary: '#52c41a',\\n  },\\n};\\n\\nexport default theme;\\n\",\"paraId\":25},{\"value\":\"改写 \",\"paraId\":26},{\"value\":\"pages/_app.tsx\",\"paraId\":26},{\"value\":\"import React from 'react';\\nimport { XProvider } from '@ant-design/x';\\nimport type { AppProps } from 'next/app';\\n\\nimport theme from './theme/themeConfig';\\n\\nconst App = ({ Component, pageProps }: AppProps) => (\\n  <XProvider theme={theme}>\\n    <Component {...pageProps} />\\n  </XProvider>\\n);\\n\\nexport default App;\\n\",\"paraId\":27},{\"value\":\"在页面中使用 @ant-design/x\",\"paraId\":28},{\"value\":\"import React from 'react';\\nimport { Bubble } from '@ant-design/x';\\n\\nconst Home = () => (\\n  <div className=\\\"App\\\">\\n    <Bubble content=\\\"Hello world!\\\" />\\n  </div>\\n);\\n\\nexport default Home;\\n\",\"paraId\":29},{\"value\":\"更多详细的细节可以参考 \",\"paraId\":30},{\"value\":\"with-nextjs-inline-style\",\"paraId\":30},{\"value\":\"。\",\"paraId\":30}];\n  "],"names":[],"mappings":"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"}