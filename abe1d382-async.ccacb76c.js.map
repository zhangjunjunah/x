{"version":3,"sources":["docs/react/use-with-umi.zh-CN.md?type=text"],"sourcesContent":["\n  import '/home/runner/work/x/x/docs/react/use-with-umi.zh-CN.md?watch=parent';\n  export const texts = [{\"value\":\"在真实项目开发中，除了 Ant Design X 这样的 UI 库，你可能会还会需要构建工具、路由方案、CSS 方案、数据流方案、请求库和请求方案、国际化方案、权限方案、Icons 方案等等，才能完成一个完整的项目。我们基于业务场景，推出了基于 React 的企业级应用框架 \",\"paraId\":0},{\"value\":\"Umi\",\"paraId\":0},{\"value\":\"，推荐你在项目中使用。\",\"paraId\":0},{\"value\":\"Umi，中文发音为「乌米」，是可扩展的企业级前端应用框架，也是蚂蚁集团的底层前端框架，已直接或间接地服务了 10000+ 应用。Umi 以路由为基础，同时支持配置式路由和约定式路由，保证路由的功能完备，并以此进行功能扩展。然后配以生命周期完善的插件体系，覆盖从源码到构建产物的每个生命周期，支持各种功能扩展和业务需求。\",\"paraId\":1},{\"value\":\"本文会引导你使用 Umi、Ant Design X 从 0 开始创建一个简单应用。\",\"paraId\":2},{\"value\":\"推荐使用 \",\"paraId\":3,\"tocIndex\":0},{\"value\":\"pnpm\",\"paraId\":3,\"tocIndex\":0},{\"value\":\" 创建 Umi 脚手架，执行以下命令。\",\"paraId\":3,\"tocIndex\":0},{\"value\":\"$ mkdir myapp && cd myapp\\n$ pnpm create umi\\n\",\"paraId\":4,\"tocIndex\":0},{\"value\":\"如果你使用 npm，可执行  \",\"paraId\":5,\"tocIndex\":0},{\"value\":\"npm create umi\",\"paraId\":5,\"tocIndex\":0},{\"value\":\"，效果一致；如果你使用 yarn，可执行  \",\"paraId\":5,\"tocIndex\":0},{\"value\":\"yarn create umi\",\"paraId\":5,\"tocIndex\":0},{\"value\":\"，效果也一致；如果你使用 bun，那说明你是个非常潮的人，可执行 \",\"paraId\":5,\"tocIndex\":0},{\"value\":\"bunx create-umi\",\"paraId\":5,\"tocIndex\":0},{\"value\":\"（注意，\",\"paraId\":5,\"tocIndex\":0},{\"value\":\"create\",\"paraId\":5,\"tocIndex\":0},{\"value\":\" 和 \",\"paraId\":5,\"tocIndex\":0},{\"value\":\"umi\",\"paraId\":5,\"tocIndex\":0},{\"value\":\" 之间有个 \",\"paraId\":5,\"tocIndex\":0},{\"value\":\"-\",\"paraId\":5,\"tocIndex\":0},{\"value\":\"）。\",\"paraId\":5,\"tocIndex\":0},{\"value\":\"这里选「Simple App」，因为我们要从 “0” 开始。\",\"paraId\":6,\"tocIndex\":0},{\"value\":\"? Pick Umi App Template › - Use arrow-keys. Return to submit.\\n❯   Simple App\\n    Ant Design Pro\\n    Vue Simple App\\n\",\"paraId\":7,\"tocIndex\":0},{\"value\":\"这里建议选「pnpm」，pnpm 在速度以及处理幽灵依赖方面都更有优势。\",\"paraId\":8,\"tocIndex\":0},{\"value\":\"? Pick Npm Client › - Use arrow-keys. Return to submit.\\n    npm\\n    cnpm\\n    tnpm\\n    yarn\\n❯   pnpm\\n\",\"paraId\":9,\"tocIndex\":0},{\"value\":\"这里国内的朋友建议选「taobao」，否则选「npm」。选择 npm taobao 源在安装依赖时通常会更快一些。\",\"paraId\":10,\"tocIndex\":0},{\"value\":\"? Pick Npm Registry › - Use arrow-keys. Return to submit.\\n    npm\\n❯   taobao\\n\",\"paraId\":11,\"tocIndex\":0},{\"value\":\"然后工具会自动安装依赖，并执行 Umi 的初始化脚本。\",\"paraId\":12,\"tocIndex\":0},{\"value\":\"在启动项目之前，我们再安装一些本教程会用到的依赖。\",\"paraId\":13,\"tocIndex\":0},{\"value\":\"$ pnpm i @umijs/plugins -D\\n$ pnpm i @ant-design/x -S\\n\",\"paraId\":14,\"tocIndex\":0},{\"value\":\"其中 \",\"paraId\":15,\"tocIndex\":0},{\"value\":\"@umijs/plugins\",\"paraId\":15,\"tocIndex\":0},{\"value\":\" 是 Umi 的官方插件集，包含了 valtio、react-query、styled-components、locale、access、qiankun 等大量插件，可让用户通过配置的方式一键开启和使用；\",\"paraId\":15,\"tocIndex\":0},{\"value\":\"完成后，执行以下命令启动项目。\",\"paraId\":16,\"tocIndex\":0},{\"value\":\"$ npm run dev\\numi dev\\ninfo  - Umi v4.0.46\\n        ╔════════════════════════════════════════════════════╗\\n        ║ App listening at:                                  ║\\n        ║  >   Local: http://localhost:8000                  ║\\nready - ║  > Network: http://*********:8000                  ║\\n        ║                                                    ║\\n        ║ Now you can open browser with the above addresses↑ ║\\n        ╚════════════════════════════════════════════════════╝\\n\",\"paraId\":17,\"tocIndex\":0},{\"value\":\"跟着提示点击命令行里的 url，会自动打开浏览器。如果顺利，你会看到如下界面。\",\"paraId\":18,\"tocIndex\":0},{\"value\":\"我们要写个应用来先显示产品列表。首先第一步是创建路由，路由可以想象成是组成应用的不同页面。Umi 用户通常不需要关心 Umi 背后的实现，但如果你想知道，Umi 的路由是基于 react-router@6.3 实现（注：不是最新的 6.4，6.4 包含的 loader 和 action 功能并不是 Umi 所需要的）。\",\"paraId\":19,\"tocIndex\":1},{\"value\":\"我们通过命令即可创建路由。\",\"paraId\":20,\"tocIndex\":1},{\"value\":\"$ npx umi g page products\\nWrite: src/pages/products.tsx\\nWrite: src/pages/products.less\\n\",\"paraId\":21,\"tocIndex\":1},{\"value\":\"然后修改配置文件 \",\"paraId\":22,\"tocIndex\":1},{\"value\":\".umirc.ts\",\"paraId\":22,\"tocIndex\":1},{\"value\":\" 加上新增的路由声明。\",\"paraId\":22,\"tocIndex\":1},{\"value\":\"import { defineConfig } from \\\"umi\\\";\\n\\nexport default defineConfig({\\n  routes: [\\n    { path: \\\"/\\\", component: \\\"index\\\" },\\n    { path: \\\"/docs\\\", component: \\\"docs\\\" },\\n+    { path: \\\"/products\\\", component: \\\"products\\\" },\\n  ],\\n  npmClient: \\\"pnpm\\\",\\n});\\n\",\"paraId\":23,\"tocIndex\":1},{\"value\":\"由于脚手架默认使用的是配置式路由，顾名思义，就是路由是自己一行行配出来的，虽然繁琐，但灵活性更高，这种方式需要在配置里加上 routes 字段，详见 \",\"paraId\":24,\"tocIndex\":1},{\"value\":\"Umi 文档之路由\",\"paraId\":24,\"tocIndex\":1},{\"value\":\"。此外，Umi 还支持约定式路由，意思是文件系统即路由，所以无需配置路由即可生效。\",\"paraId\":24,\"tocIndex\":1},{\"value\":\"然后我们编辑下 \",\"paraId\":25,\"tocIndex\":1},{\"value\":\"src/layouts/index.tsx\",\"paraId\":25,\"tocIndex\":1},{\"value\":\" 文件，在全局布局路由里加上到 \",\"paraId\":25,\"tocIndex\":1},{\"value\":\"/products\",\"paraId\":25,\"tocIndex\":1},{\"value\":\" 路径的导航。\",\"paraId\":25,\"tocIndex\":1},{\"value\":\"<li>\\n  <Link to=\\\"/docs\\\">Docs</Link>\\n</li>\\n+ <li>\\n+   <Link to=\\\"/products\\\">Products</Link>\\n+ </li>\\n\",\"paraId\":26,\"tocIndex\":1},{\"value\":\"打开 \",\"paraId\":27,\"tocIndex\":1},{\"value\":\"http://localhost:8000/products\",\"paraId\":27,\"tocIndex\":1},{\"value\":\" ，如果顺利，你会看到如下页面。\",\"paraId\":27,\"tocIndex\":1},{\"value\":\"随着应用的发展，你会需要在多个页面分享 UI 元素（或在一个页面使用多次），在 Umi 里你可以把这部分抽成 component 。我们来编写一个 ProductList 组件，这样就能在不同的地方显示产品列表了。\",\"paraId\":28,\"tocIndex\":2},{\"value\":\"新建 \",\"paraId\":29,\"tocIndex\":2},{\"value\":\"src/components/ProductList.tsx\",\"paraId\":29,\"tocIndex\":2},{\"value\":\" 文件，内容如下。\",\"paraId\":29,\"tocIndex\":2},{\"value\":\"import React from 'react';\\nimport {\\n  XProvider,\\n  Bubble,\\n  Sender,\\n  Conversations,\\n  Prompts,\\n  Suggestion,\\n  ThoughtChain,\\n} from '@ant-design/x';\\nimport { Flex, Divider, Radio, Card, Typography } from 'antd';\\n\\nimport type { ConfigProviderProps, GetProp } from 'antd';\\nimport {\\n  AlipayCircleOutlined,\\n  BulbOutlined,\\n  GithubOutlined,\\n  SmileOutlined,\\n  UserOutlined,\\n} from '@ant-design/icons';\\n\\nexport default () => {\\n  const [value, setValue] = React.useState('');\\n  const [direction, setDirection] =\\n    React.useState<GetProp<ConfigProviderProps, 'direction'>>('ltr');\\n\\n  return (\\n    <>\\n      <Flex gap={12} style={{ marginBottom: 16 }} align=\\\"center\\\">\\n        <Typography.Text>Direction:</Typography.Text>\\n        <Radio.Group value={direction} onChange={(e) => setDirection(e.target.value)}>\\n          <Radio.Button value=\\\"ltr\\\">LTR</Radio.Button>\\n          <Radio.Button value=\\\"rtl\\\">RTL</Radio.Button>\\n        </Radio.Group>\\n      </Flex>\\n      <Card>\\n        <XProvider direction={direction}>\\n          <Flex style={{ height: 500 }} gap={12}>\\n            <Conversations\\n              style={{ width: 200 }}\\n              defaultActiveKey=\\\"1\\\"\\n              items={[\\n                {\\n                  key: '1',\\n                  label: 'Conversation - 1',\\n                  icon: <GithubOutlined />,\\n                },\\n                {\\n                  key: '2',\\n                  label: 'Conversation - 2',\\n                  icon: <AlipayCircleOutlined />,\\n                },\\n              ]}\\n            />\\n            <Divider type=\\\"vertical\\\" style={{ height: '100%' }} />\\n            <Flex vertical style={{ flex: 1 }} gap={8}>\\n              <Bubble.List\\n                style={{ flex: 1 }}\\n                items={[\\n                  {\\n                    key: '1',\\n                    placement: 'end',\\n                    content: 'Hello Ant Design X!',\\n                    avatar: { icon: <UserOutlined /> },\\n                  },\\n                  {\\n                    key: '2',\\n                    content: 'Hello World!',\\n                  },\\n                ]}\\n              />\\n              <Prompts\\n                items={[\\n                  {\\n                    key: '1',\\n                    icon: <BulbOutlined style={{ color: '#FFD700' }} />,\\n                    label: 'Ignite Your Creativity',\\n                  },\\n                  {\\n                    key: '2',\\n                    icon: <SmileOutlined style={{ color: '#52C41A' }} />,\\n                    label: 'Tell me a Joke',\\n                  },\\n                ]}\\n              />\\n              <Suggestion items={[{ label: 'Write a report', value: 'report' }]}>\\n                {({ onTrigger, onKeyDown }) => {\\n                  return (\\n                    <Sender\\n                      value={value}\\n                      onChange={(nextVal) => {\\n                        if (nextVal === '/') {\\n                          onTrigger();\\n                        } else if (!nextVal) {\\n                          onTrigger(false);\\n                        }\\n                        setValue(nextVal);\\n                      }}\\n                      onKeyDown={onKeyDown}\\n                      placeholder='Type \\\"/\\\" to trigger suggestion'\\n                    />\\n                  );\\n                }}\\n              </Suggestion>\\n            </Flex>\\n          </Flex>\\n          <ThoughtChain />\\n        </XProvider>\\n      </Card>\\n    </>\\n  );\\n};\\n\",\"paraId\":30,\"tocIndex\":2},{\"value\":\"完成开发并且在开发环境验证之后，就需要部署给我们的用户了，执行以下命令。\",\"paraId\":31,\"tocIndex\":3},{\"value\":\"$ npm run build\\ninfo  - Umi v4.0.46\\n✔ Webpack\\n  Compiled successfully in 5.31s\\ninfo  - File sizes after gzip:\\n  122.45 kB  dist/umi.js\\n  575 B      dist/src__pages__products.async.js\\n  312 B      dist/src__pages__index.async.js\\n  291 B      dist/layouts__index.async.js\\n  100 B      dist/layouts__index.chunk.css\\n  55 B       dist/src__pages__products.chunk.css\\nevent - Build index.html\\n\",\"paraId\":32,\"tocIndex\":3},{\"value\":\"构建会打包所有的资源，包含 JavaScript, CSS, Web Fonts, 图片, HTML 等。你可以在  \",\"paraId\":33,\"tocIndex\":3},{\"value\":\"dist/\",\"paraId\":33,\"tocIndex\":3},{\"value\":\"  目录下找到这些文件。\",\"paraId\":33,\"tocIndex\":3},{\"value\":\"我们已经完成了一个简单应用，你可能还有很多疑问，比如：\",\"paraId\":34,\"tocIndex\":4},{\"value\":\"如何统一处理出错？\",\"paraId\":35,\"tocIndex\":4},{\"value\":\"如何处理更多路由，比如动态路由、嵌套路由、权限路由等？\",\"paraId\":35,\"tocIndex\":4},{\"value\":\"如何使用数据流方案？\",\"paraId\":35,\"tocIndex\":4},{\"value\":\"如何修改 webpack 配置或切换到 vite 构建模式？\",\"paraId\":35,\"tocIndex\":4},{\"value\":\"等等\",\"paraId\":35,\"tocIndex\":4},{\"value\":\"你可以：\",\"paraId\":36,\"tocIndex\":4},{\"value\":\"访问  \",\"paraId\":37,\"tocIndex\":4},{\"value\":\"Umi 官网\",\"paraId\":37,\"tocIndex\":4},{\"value\":\"了解  \",\"paraId\":37,\"tocIndex\":4},{\"value\":\"Umi 的路由\",\"paraId\":37,\"tocIndex\":4},{\"value\":\"了解比 Umi 集成度更高的  \",\"paraId\":37,\"tocIndex\":4},{\"value\":\"Umi Max\",\"paraId\":37,\"tocIndex\":4},{\"value\":\"了解开箱即用的中后台脚手架  \",\"paraId\":37,\"tocIndex\":4},{\"value\":\"Ant Design Pro\",\"paraId\":37,\"tocIndex\":4},{\"value\":\"了解高级布局  \",\"paraId\":37,\"tocIndex\":4},{\"value\":\"ProLayout\",\"paraId\":37,\"tocIndex\":4},{\"value\":\"了解高级表格  \",\"paraId\":37,\"tocIndex\":4},{\"value\":\"ProTable\",\"paraId\":37,\"tocIndex\":4}];\n  "],"names":[],"mappings":"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"}