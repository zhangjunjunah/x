{"version":3,"sources":["docs/react/model-use-qwen.zh-CN.md?type=text"],"sourcesContent":["\n  import '/home/runner/work/x/x/docs/react/model-use-qwen.zh-CN.md?watch=parent';\n  export const texts = [{\"value\":\"è¿™ç¯‡æŒ‡å—å°†ä»‹ç»å¦‚ä½•åœ¨ä½¿ç”¨ Ant Design X æ­å»ºçš„åº”ç”¨ä¸­æŽ¥å…¥ Qwen æä¾›çš„æ¨¡åž‹æœåŠ¡ã€‚\",\"paraId\":0},{\"value\":\"Qwen çš„æ¨¡åž‹æŽ¨ç†æœåŠ¡æ”¯æŒã€Œå…¼å®¹ OpenAI æ¨¡å¼ã€ã€‚è¯¦è§å®˜æ–¹æ–‡æ¡£: \",\"paraId\":1},{\"value\":\"é˜¿é‡Œäº‘ - é€šä¹‰åƒé—®\",\"paraId\":1},{\"value\":\"å¦‚ä½•èŽ·å– baseURL - \",\"paraId\":2,\"tocIndex\":0},{\"value\":\"https://help.aliyun.com/zh/model-studio/getting-started/what-is-model-studio\",\"paraId\":2,\"tocIndex\":0},{\"value\":\"å¦‚ä½•èŽ·å– API Key - \",\"paraId\":2,\"tocIndex\":0},{\"value\":\"https://help.aliyun.com/zh/model-studio/developer-reference/get-api-key\",\"paraId\":2,\"tocIndex\":0},{\"value\":\"æ¨¡åž‹åˆ—è¡¨ - \",\"paraId\":2,\"tocIndex\":0},{\"value\":\"https://help.aliyun.com/zh/model-studio/getting-started/models\",\"paraId\":2,\"tocIndex\":0},{\"value\":\"æ˜¯æŒ‡åœ¨æŽ¥å£è®¾è®¡å’Œä½¿ç”¨æ–¹å¼ä¸Šä¸Ž OpenAI çš„ API ä¿æŒä¸€è‡´çš„æ¨¡åž‹æŽ¨ç†æœåŠ¡ã€‚\",\"paraId\":3,\"tocIndex\":1},{\"value\":\"è¿™æ„å‘³ç€å¼€å‘è€…å¯ä»¥ä½¿ç”¨ä¸Žè°ƒç”¨ OpenAI æ¨¡åž‹ç›¸åŒçš„ä»£ç å’Œæ–¹æ³•ï¼Œæ¥è°ƒç”¨è¿™äº›å…¼å®¹æœåŠ¡ï¼Œä»Žè€Œå‡å°‘å¼€å‘æŽ¥å…¥æˆæœ¬ã€‚\",\"paraId\":4,\"tocIndex\":1},{\"value\":\"æ³¨æ„: ðŸ”¥ \",\"paraId\":5,\"tocIndex\":2},{\"value\":\"dangerouslyAllowBrowser\",\"paraId\":5,\"tocIndex\":2},{\"value\":\" å­˜åœ¨å®‰å…¨é£Žé™©ï¼Œå¯¹æ­¤ openai-node çš„å®˜æ–¹æ–‡æ¡£æœ‰è¯¦ç»†çš„\",\"paraId\":5,\"tocIndex\":2},{\"value\":\"è¯´æ˜Ž\",\"paraId\":5,\"tocIndex\":2},{\"value\":\"ã€‚\",\"paraId\":5,\"tocIndex\":2},{\"value\":\"import { useXAgent, useXChat, Sender, Bubble } from '@ant-design/x';\\nimport OpenAI from 'openai';\\nimport React from 'react';\\n\\nconst client = new OpenAI({\\n  baseURL: 'https://dashscope.aliyuncs.com/compatible-mode/v1',\\n  apiKey: process.env['DASHSCOPE_API_KEY'],\\n  dangerouslyAllowBrowser: true,\\n});\\n\\nconst Demo: React.FC = () => {\\n  const [agent] = useXAgent({\\n    request: async (info, callbacks) => {\\n      const { messages, message } = info;\\n\\n      const { onSuccess, onUpdate, onError } = callbacks;\\n\\n      // current message\\n      console.log('message', message);\\n\\n      // history messages\\n      console.log('messages', messages);\\n\\n      let content: string = '';\\n\\n      try {\\n        const stream = await client.chat.completions.create({\\n          model: 'qwen-plus',\\n          // if chat context is needed, modify the array\\n          messages: [{ role: 'user', content: message }],\\n          // stream mode\\n          stream: true,\\n        });\\n\\n        for await (const chunk of stream) {\\n          content += chunk.choices[0]?.delta?.content || '';\\n\\n          onUpdate(content);\\n        }\\n\\n        onSuccess(content);\\n      } catch (error) {\\n        // handle error\\n        // onError();\\n      }\\n    },\\n  });\\n\\n  const {\\n    // use to send message\\n    onRequest,\\n    // use to render messages\\n    messages,\\n  } = useXChat({ agent });\\n\\n  const items = messages.map(({ message, id }) => ({\\n    // key is required, used to identify the message\\n    key: id,\\n    content: message,\\n  }));\\n\\n  return (\\n    <div>\\n      <Bubble.List items={items} />\\n      <Sender onSubmit={onRequest} />\\n    </div>\\n  );\\n};\\n\\nexport default Demo;\\n\",\"paraId\":6,\"tocIndex\":2},{\"value\":\"æ³¨æ„: ðŸ”¥ \",\"paraId\":7,\"tocIndex\":3},{\"value\":\"dangerouslyApiKey\",\"paraId\":7,\"tocIndex\":3},{\"value\":\" å­˜åœ¨å®‰å…¨é£Žé™©ï¼Œå¯¹æ­¤æœ‰è¯¦ç»†çš„\",\"paraId\":7,\"tocIndex\":3},{\"value\":\"è¯´æ˜Ž\",\"paraId\":8,\"tocIndex\":3},{\"value\":\"ã€‚\",\"paraId\":7,\"tocIndex\":3},{\"value\":\"import { useXAgent, useXChat, Sender, Bubble, XRequest } from '@ant-design/x';\\nimport React from 'react';\\n\\nconst { create } = XRequest({\\n  baseURL: 'https://dashscope.aliyuncs.com/compatible-mode/v1',\\n  dangerouslyApiKey: process.env['DASHSCOPE_API_KEY'],\\n  model: 'qwen-plus',\\n});\\n\\nconst Component: React.FC = () => {\\n  const [agent] = useXAgent({\\n    request: async (info, callbacks) => {\\n      const { messages, message } = info;\\n      const { onUpdate } = callbacks;\\n\\n      // current message\\n      console.log('message', message);\\n      // messages list\\n      console.log('messages', messages);\\n\\n      let content: string = '';\\n\\n      try {\\n        create(\\n          {\\n            messages: [{ role: 'user', content: message }],\\n            stream: true,\\n          },\\n          {\\n            onSuccess: (chunks) => {\\n              console.log('sse chunk list', chunks);\\n            },\\n            onError: (error) => {\\n              console.log('error', error);\\n            },\\n            onUpdate: (chunk) => {\\n              console.log('sse object', chunk);\\n\\n              const data = JSON.parse(chunk.data);\\n\\n              content += data?.choices[0].delta.content;\\n\\n              onUpdate(content);\\n            },\\n          },\\n        );\\n      } catch (error) {}\\n    },\\n  });\\n\\n  const {\\n    // use to send message\\n    onRequest,\\n    // use to render messages\\n    messages,\\n  } = useXChat({ agent });\\n\\n  const items = messages.map(({ message, id }) => ({\\n    // key is required, used to identify the message\\n    key: id,\\n    content: message,\\n  }));\\n\\n  return (\\n    <div>\\n      <Bubble.List items={items} />\\n      <Sender onSubmit={onRequest} />\\n    </div>\\n  );\\n};\\n\\nexport default Component;\\n\",\"paraId\":9,\"tocIndex\":3}];\n  "],"names":[],"mappings":"+PAEe,6CAAA,QADN,YACA,IAAM,EAAQ,CAAC,CAAC,MAAQ,+LAAmD,OAAS,CAAC,EAAE,CAAC,MAAQ,sJAAwC,OAAS,CAAC,EAAE,CAAC,MAAQ,gDAAa,OAAS,CAAC,EAAE,CAAC,MAAQ,sCAAkB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,+EAA+E,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,sCAAkB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,0EAA0E,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,8BAAU,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,iEAAiE,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,kLAA2C,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,+RAAyD,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,2BAAU,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,0BAA0B,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,6HAAmC,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAK,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,SAAI,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,oqDAAoqD,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,2BAAU,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,oBAAoB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,kFAAiB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAK,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,SAAI,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,gvDAAgvD,OAAS,EAAE,SAAW,CAAC,EAAE"}