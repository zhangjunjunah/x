{"version":3,"sources":["docs/react/model-use-qwen.zh-CN.md?type=text"],"sourcesContent":["\n  import '/home/runner/work/x/x/docs/react/model-use-qwen.zh-CN.md?watch=parent';\n  export const texts = [{\"value\":\"这篇指南将介绍如何在使用 Ant Design X 搭建的应用中接入 Qwen 提供的模型服务。\",\"paraId\":0},{\"value\":\"Qwen 的模型推理服务支持「兼容 OpenAI 模式」。详见官方文档: \",\"paraId\":1},{\"value\":\"阿里云 - 通义千问\",\"paraId\":1},{\"value\":\"如何获取 baseURL - \",\"paraId\":2,\"tocIndex\":0},{\"value\":\"https://help.aliyun.com/zh/model-studio/getting-started/what-is-model-studio\",\"paraId\":2,\"tocIndex\":0},{\"value\":\"如何获取 API Key - \",\"paraId\":2,\"tocIndex\":0},{\"value\":\"https://help.aliyun.com/zh/model-studio/developer-reference/get-api-key\",\"paraId\":2,\"tocIndex\":0},{\"value\":\"模型列表 - \",\"paraId\":2,\"tocIndex\":0},{\"value\":\"https://help.aliyun.com/zh/model-studio/getting-started/models\",\"paraId\":2,\"tocIndex\":0},{\"value\":\"是指在接口设计和使用方式上与 OpenAI 的 API 保持一致的模型推理服务。\",\"paraId\":3,\"tocIndex\":1},{\"value\":\"这意味着开发者可以使用与调用 OpenAI 模型相同的代码和方法，来调用这些兼容服务，从而减少开发接入成本。\",\"paraId\":4,\"tocIndex\":1},{\"value\":\"注意: 🔥 \",\"paraId\":5,\"tocIndex\":2},{\"value\":\"dangerouslyAllowBrowser\",\"paraId\":5,\"tocIndex\":2},{\"value\":\" 存在安全风险，对此 openai-node 的官方文档有详细的\",\"paraId\":5,\"tocIndex\":2},{\"value\":\"说明\",\"paraId\":5,\"tocIndex\":2},{\"value\":\"。\",\"paraId\":5,\"tocIndex\":2},{\"value\":\"import { useXAgent, useXChat, Sender, Bubble } from '@ant-design/x';\\nimport OpenAI from 'openai';\\nimport React from 'react';\\n\\nconst client = new OpenAI({\\n  baseURL: 'https://dashscope.aliyuncs.com/compatible-mode/v1',\\n  apiKey: process.env['DASHSCOPE_API_KEY'],\\n  dangerouslyAllowBrowser: true,\\n});\\n\\nconst Demo: React.FC = () => {\\n  const [agent] = useXAgent({\\n    request: async (info, callbacks) => {\\n      const { messages, message } = info;\\n\\n      const { onSuccess, onUpdate, onError } = callbacks;\\n\\n      // current message\\n      console.log('message', message);\\n\\n      // history messages\\n      console.log('messages', messages);\\n\\n      let content: string = '';\\n\\n      try {\\n        const stream = await client.chat.completions.create({\\n          model: 'qwen-plus',\\n          // if chat context is needed, modify the array\\n          messages: [{ role: 'user', content: message }],\\n          // stream mode\\n          stream: true,\\n        });\\n\\n        for await (const chunk of stream) {\\n          content += chunk.choices[0]?.delta?.content || '';\\n\\n          onUpdate(content);\\n        }\\n\\n        onSuccess(content);\\n      } catch (error) {\\n        // handle error\\n        // onError();\\n      }\\n    },\\n  });\\n\\n  const {\\n    // use to send message\\n    onRequest,\\n    // use to render messages\\n    messages,\\n  } = useXChat({ agent });\\n\\n  const items = messages.map(({ message, id }) => ({\\n    // key is required, used to identify the message\\n    key: id,\\n    content: message,\\n  }));\\n\\n  return (\\n    <div>\\n      <Bubble.List items={items} />\\n      <Sender onSubmit={onRequest} />\\n    </div>\\n  );\\n};\\n\\nexport default Demo;\\n\",\"paraId\":6,\"tocIndex\":2},{\"value\":\"注意: 🔥 \",\"paraId\":7,\"tocIndex\":3},{\"value\":\"dangerouslyApiKey\",\"paraId\":7,\"tocIndex\":3},{\"value\":\" 存在安全风险，对此有详细的\",\"paraId\":7,\"tocIndex\":3},{\"value\":\"说明\",\"paraId\":8,\"tocIndex\":3},{\"value\":\"。\",\"paraId\":7,\"tocIndex\":3},{\"value\":\"import { useXAgent, useXChat, Sender, Bubble, XRequest } from '@ant-design/x';\\nimport React from 'react';\\n\\nconst { create } = XRequest({\\n  baseURL: 'https://dashscope.aliyuncs.com/compatible-mode/v1',\\n  dangerouslyApiKey: process.env['DASHSCOPE_API_KEY'],\\n  model: 'qwen-plus',\\n});\\n\\nconst Component: React.FC = () => {\\n  const [agent] = useXAgent({\\n    request: async (info, callbacks) => {\\n      const { messages, message } = info;\\n      const { onUpdate } = callbacks;\\n\\n      // current message\\n      console.log('message', message);\\n      // messages list\\n      console.log('messages', messages);\\n\\n      let content: string = '';\\n\\n      try {\\n        create(\\n          {\\n            messages: [{ role: 'user', content: message }],\\n            stream: true,\\n          },\\n          {\\n            onSuccess: (chunks) => {\\n              console.log('sse chunk list', chunks);\\n            },\\n            onError: (error) => {\\n              console.log('error', error);\\n            },\\n            onUpdate: (chunk) => {\\n              console.log('sse object', chunk);\\n\\n              const data = JSON.parse(chunk.data);\\n\\n              content += data?.choices[0].delta.content;\\n\\n              onUpdate(content);\\n            },\\n          },\\n        );\\n      } catch (error) {}\\n    },\\n  });\\n\\n  const {\\n    // use to send message\\n    onRequest,\\n    // use to render messages\\n    messages,\\n  } = useXChat({ agent });\\n\\n  const items = messages.map(({ message, id }) => ({\\n    // key is required, used to identify the message\\n    key: id,\\n    content: message,\\n  }));\\n\\n  return (\\n    <div>\\n      <Bubble.List items={items} />\\n      <Sender onSubmit={onRequest} />\\n    </div>\\n  );\\n};\\n\\nexport default Component;\\n\",\"paraId\":9,\"tocIndex\":3}];\n  "],"names":[],"mappings":"+PAEe,6CAAA,QADN,YACA,IAAM,EAAQ,CAAC,CAAC,MAAQ,+LAAmD,OAAS,CAAC,EAAE,CAAC,MAAQ,sJAAwC,OAAS,CAAC,EAAE,CAAC,MAAQ,gDAAa,OAAS,CAAC,EAAE,CAAC,MAAQ,sCAAkB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,+EAA+E,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,sCAAkB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,0EAA0E,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,8BAAU,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,iEAAiE,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,kLAA2C,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,+RAAyD,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,2BAAU,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,0BAA0B,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,6HAAmC,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAK,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,SAAI,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,oqDAAoqD,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,2BAAU,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,oBAAoB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,kFAAiB,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,eAAK,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,SAAI,OAAS,EAAE,SAAW,CAAC,EAAE,CAAC,MAAQ,gvDAAgvD,OAAS,EAAE,SAAW,CAAC,EAAE"}