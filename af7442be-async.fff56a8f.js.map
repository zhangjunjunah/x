{"version":3,"sources":[".dumi/pages/theme-editor/index.tsx"],"sourcesContent":["import { App, Button, Skeleton } from 'antd';\nimport { enUS, zhCN } from 'antd-token-previewer';\nimport type { ThemeConfig } from 'antd/es/config-provider/context';\nimport { Helmet } from 'dumi';\nimport React, { Suspense, useEffect } from 'react';\n\nimport { createStyles } from 'antd-style';\nimport useLocale from '../../hooks/useLocale';\n\nconst ThemeEditor = React.lazy(() => import('antd-token-previewer/lib/ThemeEditor'));\n\nconst useStyle = createStyles(({ token, css }) => {\n  return {\n    editor: css`\n      margin-top: ${token.headerHeight - token.padding}px;\n    `,\n  };\n});\n\nconst locales = {\n  cn: {\n    title: '主题编辑器',\n    save: '保存',\n    edit: '编辑',\n    export: '导出',\n    editModelTitle: '编辑主题配置',\n    editJsonContentTypeError: '主题 JSON 格式错误',\n    editSuccessfully: '编辑成功',\n    saveSuccessfully: '保存成功',\n    initialEditor: '正在初始化编辑器...',\n  },\n  en: {\n    title: 'Theme Editor',\n    save: 'Save',\n    edit: 'Edit',\n    export: 'Export',\n    editModelTitle: 'edit Theme Config',\n    editJsonContentTypeError: 'The theme of the JSON format is incorrect',\n    editSuccessfully: 'Edited successfully',\n    saveSuccessfully: 'Saved successfully',\n    initialEditor: 'Initializing Editor...',\n  },\n};\n\nconst ANT_DESIGN_V5_THEME_EDITOR_THEME = 'ant-design-v5-theme-editor-theme';\n\nconst CustomTheme: React.FC = () => {\n  const { message } = App.useApp();\n  const [locale, lang] = useLocale(locales);\n  const { styles } = useStyle();\n\n  const [theme, setTheme] = React.useState<ThemeConfig>({});\n\n  useEffect(() => {\n    const storedConfig = localStorage.getItem(ANT_DESIGN_V5_THEME_EDITOR_THEME);\n    if (storedConfig) {\n      const themeConfig = JSON.parse(storedConfig);\n      setTheme(themeConfig);\n    }\n  }, []);\n\n  const handleSave = () => {\n    localStorage.setItem(ANT_DESIGN_V5_THEME_EDITOR_THEME, JSON.stringify(theme));\n    message.success(locale.saveSuccessfully);\n  };\n\n  return (\n    <div className={styles.editor}>\n      <Helmet>\n        <title>{`${locale.title} - Ant Design X`}</title>\n        <meta property=\"og:title\" content={`${locale.title} - Ant Design X`} />\n      </Helmet>\n      <Suspense fallback={<Skeleton style={{ margin: 24 }} />}>\n        <ThemeEditor\n          advanced\n          hideAdvancedSwitcher\n          theme={{ name: 'Custom Theme', key: 'test', config: theme }}\n          style={{ height: 'calc(100vh - 64px)' }}\n          onThemeChange={(newTheme) => {\n            setTheme(newTheme.config);\n          }}\n          locale={lang === 'cn' ? zhCN : enUS}\n          actions={\n            <Button type=\"primary\" onClick={handleSave}>\n              {locale.save}\n            </Button>\n          }\n        />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default CustomTheme;\n"],"names":[],"mappings":"mRA6FA,+CAAA,8DA7FsC,gBACX,gBAEJ,oBACoB,iBAEd,oBACP,aAEtB,IAAM,EAAc,SAAK,CAAC,IAAI,CAAC,IAAM,8FAE/B,EAAW,GAAA,cAAY,EAAC,CAAC,CAAE,MAAA,CAAK,CAAE,IAAA,CAAG,CAAE,GACpC,CAAA,CACL,OAAQ,CAAG,CAAC;kBACE,EAAE,EAAM,YAAY,CAAG,EAAM,OAAO,CAAC;IACnD,CAAC,AACH,CAAA,GAGI,EAAU,CACd,GAAI,CACF,MAAO,iCACP,KAAM,eACN,KAAM,eACN,OAAQ,eACR,eAAgB,uCAChB,yBAA0B,6CAC1B,iBAAkB,2BAClB,iBAAkB,2BAClB,cAAe,qDACjB,EACA,GAAI,CACF,MAAO,eACP,KAAM,OACN,KAAM,OACN,OAAQ,SACR,eAAgB,oBAChB,yBAA0B,4CAC1B,iBAAkB,sBAClB,iBAAkB,qBAClB,cAAe,wBACjB,CACF,EAEM,EAAmC,uCAiDzC,EA/C8B,KAC5B,GAAM,CAAE,QAAA,CAAO,CAAE,CAAG,KAAG,CAAC,MAAM,GACxB,CAAC,EAAQ,EAAK,CAAG,GAAA,SAAS,EAAC,GAC3B,CAAE,OAAA,CAAM,CAAE,CAAG,IAEb,CAAC,EAAO,EAAS,CAAG,SAAK,CAAC,QAAQ,CAAc,CAAC,SAEvD,GAAA,WAAS,EAAC,KACR,IAAM,EAAe,aAAa,OAAO,CAAC,GACtC,GAEF,EADoB,KAAK,KAAK,CAAC,IAGnC,EAAG,EAAE,EAQH,WAAC,OAAI,UAAW,EAAO,MAAM,WAC3B,WAAC,QAAM,YACL,UAAC,kBAAO,CAAC,EAAE,EAAO,KAAK,CAAC,eAAe,CAAC,GACxC,UAAC,QAAK,SAAS,WAAW,QAAS,CAAC,EAAE,EAAO,KAAK,CAAC,eAAe,CAAC,MAErE,UAAC,UAAQ,EAAC,SAAU,UAAC,UAAQ,EAAC,MAAO,CAAE,OAAQ,EAAG,aAChD,UAAC,GACC,QAAQ,IACR,oBAAoB,IACpB,MAAO,CAAE,KAAM,eAAgB,IAAK,OAAQ,OAAQ,CAAM,EAC1D,MAAO,CAAE,OAAQ,oBAAqB,EACtC,cAAe,AAAC,IACd,EAAS,EAAS,MAAM,EAC1B,EACA,OAAQ,AAAS,OAAT,EAAgB,MAAI,CAAG,MAAI,CACnC,QACE,UAAC,QAAM,EAAC,KAAK,UAAU,QAtBd,KACjB,aAAa,OAAO,CAAC,EAAkC,KAAK,SAAS,CAAC,IACtE,EAAQ,OAAO,CAAC,EAAO,gBAAgB,EACzC,WAoBa,EAAO,IAAI,UAO1B"}